import React, { useState, useContext, useEffect } from 'react';
import { EditorCtx } from '../index';

const Theme = () => {
  const { editorRef } = useContext(EditorCtx);
  const [darkTheme, setDarkTheme] = useState(true);

  const handleClick = () => {
    setDarkTheme((darkTheme) => !darkTheme);
  };

  useEffect(() => {
    darkTheme ? editorRef.current?.setOption('theme', 'atom-dark') : editorRef.current?.setOption('theme', 'atom-light');
  }, [darkTheme]);

  return (
    <div className="icon-wrapper" onClick={handleClick}>
      {darkTheme ? (
        <svg className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="69088">
          <path
            d="M811.6 747.6c-2.8 0-5.6 0.6-8.6 1.8-46.4 21-94.6 30.8-141.6 30.8-151.8 0-293.2-101.6-332-258.6-29.2-118.4 8-242.8 97.4-326.6 13.4-12.6 4.2-35-14-35h-1.2c-26.6 1.6-53.2 5.4-79 11.6C98.8 228.2-44.6 462 12.6 694c48.6 197.4 226.8 330 423.2 330 34.2 0 69-4 103.6-12.4C670 980 774.8 892.2 830 776.6c6.8-14.2-4.6-29-18.4-29z m-294.8 170.6c-26.6 6.4-54 9.8-81 9.8-157 0-292.8-105.6-330-257-21.4-86.6-7.6-176.4 38.8-252.8 25.4-41.8 58.8-76.8 98.2-103.6-22.6 73.6-25.6 153-6.6 230 44.8 182 199.6 312.6 384.2 329.6-31.4 20.2-66.2 35-103.6 44z m400.6-555.6L864 256l-53.4 106.6L704 416l106.6 53.4L864 576l53.4-106.6L1024 416l-106.6-53.4zM608 192l32-64 64-32-64-32-32-64-32 64-64 32 64 32 32 64z"
            p-id="69089"
          ></path>
        </svg>
      ) : (
        <svg className="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="69222">
          <path
            d="M988.4 443.8l-119.6-81 27.4-142c5.2-26.4-3.2-53.6-22.2-72.8-19.2-19-46.4-27.4-72.4-22.2l-141.8 27.4-80.8-119.8c-30.2-44.6-103.8-44.6-134 0l-80.8 119.8-141.6-27.4C196 120.8 169 129 150 148.2c-19 19.2-27.4 46.2-22.2 72.6l27.4 142-119.6 81C13.2 459 0 484 0 511s13.4 52 35.6 67l119.6 81-27.4 142c-5.2 26.4 3.2 53.6 22.2 72.6 19 19 45.8 27.4 72.6 22.2l141.6-27.4 80.8 119.8C460 1010.6 485.2 1024 512 1024s52-13.4 67-35.6l80.8-119.8 141.8 27.4c26.8 5.4 53.6-3.2 72.6-22.2 19-19 27.2-46.2 22.2-72.6l-27.4-142 119.6-81c22.2-15 35.6-40.2 35.6-67-0.2-27.2-13.4-52.2-35.8-67.4z m-225.8 171.2l35.2 182.4-182-35.2L512 916l-103.8-154-181.8 35.2 35.2-182.4-153.6-104 153.6-104-35.2-182.4 182 35.2L512 106l103.8 153.8 182-35.2-35.2 182.2 153.6 104-153.6 104.2zM512 304c-114.6 0-208 93.4-208 208s93.4 208 208 208 208-93.4 208-208-93.4-208-208-208z m0 320c-61.8 0-112-50.2-112-112s50.2-112 112-112 112 50.2 112 112-50.2 112-112 112z"
            p-id="69223"
          ></path>
        </svg>
      )}
    </div>
  );
};

export default Theme;
